---
title: "JS Bridge Guide for Cross-App Launch"
description: "Implement cross-app launch functionality using the JavaScript bridge for Mini Programs."
---

This guide explains how Mini Programs launched across different native apps can call standardized JSAPIs through a JavaScript bridge that creates bidirectional communication between JavaScript and native code.

## Installation

Install the `hylid-bridge` package in your project:

```bash
npm install hylid-bridge --save
```

## Implementation

<Tabs>
  <Tab title="Native Mini Programs">
    Import the `hylid-bridge` package and call the exported JSAPIs directly:

    ```javascript
    import { alert } from 'hylid-bridge'

    Page({
      onLoad() {
        alert({ content: 'Hello from Mini Program!' })
      }
    })
    ```
  </Tab>

  <Tab title="H5 Mini Programs">
    For HTML5-based Mini Programs, refer to the H5 transformation documentation for specific integration steps.
  </Tab>
</Tabs>

## Handling Platform Differences

Not all JSAPIs are supported on every platform. Use the `appEnv` object to check the runtime environment and conditionally execute platform-specific code:

```javascript
import { appEnv, getAppIdSync, alert } from 'hylid-bridge'

Page({
  onLoad() {
    // Check platform before using platform-specific APIs
    if (appEnv.platform === 'alipay') {
      // Alipay-specific code
      const { appId } = getAppIdSync();
      console.log('Running on Alipay, App ID:', appId);
    } else {
      // Fallback for other platforms
      alert({ content: 'Some features may not be available' });
    }
  }
})
```

## Supported APIs

The JS bridge supports a wide range of operations across multiple categories:

<AccordionGroup>
  <Accordion title="Navigation">
    - `navigateTo` - Navigate to a new page
    - `navigateBack` - Navigate back
    - `redirectTo` - Redirect to a page
    - `reLaunch` - Relaunch the app
    - `switchTab` - Switch to a tab page
  </Accordion>

  <Accordion title="UI Elements">
    - `alert` - Show alert dialog
    - `confirm` - Show confirmation dialog
    - `showToast` - Show toast message
    - `showLoading` - Show loading indicator
    - `hideLoading` - Hide loading indicator
    - `showActionSheet` - Show action sheet
  </Accordion>

  <Accordion title="Storage">
    - `setStorage` - Store data
    - `getStorage` - Retrieve data
    - `removeStorage` - Remove data
    - `clearStorage` - Clear all data
  </Accordion>

  <Accordion title="Location">
    - `getLocation` - Get current location
    - `openLocation` - Open location in map
    - `chooseLocation` - Choose a location
  </Accordion>

  <Accordion title="Network">
    - `request` - Make HTTP requests
    - `uploadFile` - Upload files
    - `downloadFile` - Download files
  </Accordion>

  <Accordion title="System">
    - `getSystemInfo` - Get system information
    - `getNetworkType` - Get network type
    - `scanCode` - Scan QR codes
  </Accordion>

  <Accordion title="Payment">
    - `tradePay` - Process payments
    - `signContract` - Sign contracts
  </Accordion>
</AccordionGroup>

## Requirements

<Warning>
Applications using the JS bridge may need to:

- Request specific permissions from host platforms
- Whitelist domains for API calls
- Handle cases where certain APIs are not available
</Warning>

### Permission Requirements

| Feature | Required Permission |
|---------|---------------------|
| Location | Location access |
| Camera | Camera access |
| Storage | File system access |
| Contacts | Contact list access |

### Domain Whitelisting

Ensure your API endpoints are whitelisted in the Mini Program configuration:

```json
{
  "networkTimeout": {
    "request": 30000,
    "downloadFile": 30000
  },
  "request": {
    "whitelist": [
      "https://api.yourdomain.com"
    ]
  }
}
```

## Error Handling

Always implement error handling when using bridge APIs:

```javascript
import { request } from 'hylid-bridge'

async function fetchData() {
  try {
    const res = await request({
      url: 'https://api.example.com/data',
      method: 'GET'
    });
    return res.data;
  } catch (error) {
    console.error('Bridge API error:', error);
    // Handle platform-specific errors
    if (error.code === 'NOT_SUPPORTED') {
      // API not supported on this platform
    }
  }
}
```

## Best Practices

<Tip>
**Recommended practices for cross-app development:**

1. Always check API availability before use
2. Implement fallbacks for unsupported features
3. Test on all target platforms
4. Handle network errors gracefully
5. Use async/await for cleaner code
</Tip>

## Next Steps

<CardGroup cols={2}>
  <Card title="JSAPI Overview" icon="book" href="/jsapi/overview">
    Learn about all available JSAPIs
  </Card>
  <Card title="JSAPI Reference" icon="list" href="/jsapi/reference">
    Complete API reference
  </Card>
</CardGroup>
